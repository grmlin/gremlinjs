<!DOCTYPE html>
<html>
<head>
    <title></title>
    <style type="text/css">

    </style>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>

    <script type="text/javascript">
        //console.time implementation for IE
        if(window.console && typeof(window.console.time) == "undefined") {
            console.time = function(name, reset){
                if(!name) { return; }
                var time = new Date().getTime();
                if(!console.timeCounters) { console.timeCounters = {} };
                var key = "KEY" + name.toString();
                if(!reset && console.timeCounters[key]) { return; }
                console.timeCounters[key] = time;
            };

            console.timeEnd = function(name){
                var time = new Date().getTime();
                if(!console.timeCounters) { return; }
                var key = "KEY" + name.toString();
                var timeCounter = console.timeCounters[key];
                if(timeCounter) {
                    var diff = time - timeCounter;
                    var label = name + ": " + diff + "ms";
                    console.info(label);
                    delete console.timeCounters[key];
                }
                return diff;
            };
        }
    </script>
    <script data-require="GremlinJS" data-config="mantriConf" data-deps=".tmp/deps"
            src="vendor/mantri.web.js"></script>
</head>
<body data-gremlin-config='{"debug":true}'>
<div data-gremlin="Espresso"></div>
<div data-gremlin="Buddy">
    <h2>Buddy</h2>
    <div class="content"></div>
</div>
<div data-gremlin="Unknown" style="margin-top: 2000px;">
    <h2>Unknown</h2>
    <div class="content"></div>
</div>
<hr>
<div data-gremlin="Holly" data-gremlin-lazy="true" style="margin-top: 2000px;">
    <h2>Holly</h2>
    <div class="content"></div>
</div>

<div data-gremlin="Async"></div>
<hr>
<p>
    <button onclick="addGremlin('Buddy')">Add a Buddy gremlin</button>
    <button onclick="addGremlin('Holly')">Add a Holly gremlin</button>
    <button onclick="addGremlin('')">Add a broken gremlin</button>
</p>
<div id="adder">

</div>


<!--<script type="text/javascript" src="/vendor/extensions/gremlin.interests.min.js"></script>
<script type="text/javascript" src="/vendor/extensions/gremlin.jquery.min.js"></script>
&lt;!&ndash;<script type="text/javascript" src="/vendor/extensions/gremlin.domelements.min.js"></script>&ndash;&gt;
<script type="text/javascript" src="/vendor/Buddy.js"></script>
<script type="text/javascript" src="/vendor/Holly.js"></script>
<script type="text/javascript" src="/vendor/Espresso.js"></script>-->

<script type="text/javascript" src="js/gremlins/Buddy.js"></script>
<script type="text/javascript" src="js/gremlins/cs/Espresso.js"></script>

<script type="text/javascript">
    var addGremlin = function (name) {
        var el = document.createElement('div');
        var h = document.createElement('h2');
        var content = document.createElement('div');

        el.setAttribute('data-gremlin',name);
        h.innerHTML = name;
        content.className = 'content'
        el.appendChild(h);
        el.appendChild(content);

        document.getElementById("adder").appendChild(el);
    };

    
    GremlinJS.on(GremlinJS.ON_DEFINITION_PENDING, function(el){
        console.log("Definition pending ",el.getAttribute('data-gremlin-found'));
        
    });
    GremlinJS.on(GremlinJS.ON_ELEMENT_FOUND, function(){
       // alert("Element found")
    });
    GremlinJS.on(GremlinJS.ON_GREMLIN_LOADED, function(){
       // alert("Gremlin loaded")
    });
</script>



</body>
</html>