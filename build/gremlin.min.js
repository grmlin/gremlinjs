/**!
 * GremlinJS 0.4.0
 * https://github.com/grmlin/gremlinjs
 *
 * Copyright 2012, Andreas Wehr
 * Released under the MIT License
 */
 define("gremlinjs",function(){var gremlinjs=function(t){function e(r){if("number"!=typeof r)throw Error("Cannot find module '"+r+"'");if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r](o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.e=function(t,n){n(e)},e.modules=t,e.cache=n,e(0)}({c:"",0:function(t,e,n){(function(){var e,r,o,i;r=n(17),e=n(8),i=n(1),o=n(4),t.exports={Gremlin:{extend:e.extend,create:e.extend},Loader:{getLoader:r.getInstance},extensions:o}}).call(this)},1:function(t){(function(){var e,n,r,o,i,s,u={}.hasOwnProperty,l=[].slice;o="object",i="string",n="function",r="number",e=0,s=function(t,e){var n,r;for(n in e)u.call(e,n)&&(r=e[n],t[n]=r);return t},t.exports={isUndefined:function(t){return void 0===t},isFunction:function(t){return typeof t===n},isArray:function(t){return t instanceof Array},isObject:function(e){return null!==e&&typeof e===o&&!t.exports.isArray(e)},isNumber:function(t){return typeof t===r},isString:function(t){return typeof t===i},isEmptyString:function(n){return t.exports.isString(n)&&n.length===e},isJquery:function(e){return t.exports.isObject(e)&&t.exports.isString(e.jquery)},mixin:function(e,n){if(!t.exports.isFunction(e))throw new TypeError("target has to be a (constructor) function. Only prototypes will be extended");if(!t.exports.isObject(n))throw new TypeError("object has to be used to extend prototype");return s(e.prototype,n)},extend:function(){var e,n,r,o,i,s,a;if(e=arguments[0],n=arguments.length>=2?l.call(arguments,1):[],null==e)return{};for(s=0,a=n.length;a>s;s++){o=n[s];for(r in o)u.call(o,r)&&(i=o[r],e[r]=null==e[r]||"object"!=typeof i?i:t.exports.extend(e[r],i))}return e},hasClass:function(t,e){return t.className.match(RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(e,n){return t.exports.hasClass(e,n)?void 0:e.className+=" "+n},removeClass:function(e,n){var r;return t.exports.hasClass(e,n)?(r=RegExp("(\\s|^)"+n+"(\\s|$)"),e.className=e.className.replace(r," ")):void 0}}}).call(this)},2:function(t){(function(){var e;e=function(){function t(t){this._gremlin=t}return t.prototype._gremlin=null,t.prototype.load=function(){},t.prototype.onLoad=function(){},t}(),t.exports=e}).call(this)},3:function(t,e,n){(function(){var e,r,o,i,s,u={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=n(1),e=n(2),s=function(){var t,e,n,r,i=this;if(null!==this.events){r=this.events,n=function(t,e){var n,r,s,u,l;if(!o.isString(e))throw new TypeError("Event selectors have to be referenced by strings!");if(!o.isFunction(i[t]))throw new TypeError("Event '"+e+"' can't be bound to '"+i.name+"."+t+"', as the type is "+typeof i[t]);return s=i[t],r=e.indexOf(" "),u=-1!==r,n=u?e.substr(0,r):e,l=u?e.substr(r+1):null,i.$view.on(n,l,function(){return s.apply(i,arguments),!0})};for(t in r)u.call(r,t)&&(e=r[t],n(e,t));return!0}},i=function(){var t,e,n,r;if(null!==this.elements){n=this.elements,r=[];for(e in n)if(u.call(n,e)){if(t=n[e],!o.isString(e))throw new TypeError("Element selector have to be referenced by strings!");r.push(this["$"+t]=this.$view.find(e))}return r}},r=function(t){function e(t,n){this._amdName=t,e.__super__.constructor.call(this,n)}return l(e,t),e.prototype.$=null,e.prototype._extendGremlin=function(t){return this.$=t,this._gremlin.$view=t(this._gremlin.view),s.call(this._gremlin),i.call(this._gremlin)},e.prototype.load=function(){var t=this;return window.require(["jquery"],function(e){return t._extendGremlin(e),t.onLoad()})},e}(e),t.exports=r}).call(this)},4:function(t){(function(){t.exports={JQUERY:"jquery",ZEPTO:"zepto"}}).call(this)},5:function(t){var e=function(){return this.console||this.window&&this.window.console||{}}();t.exports=e;for(var n in{log:1,info:1,error:1,warn:1,dir:1,trace:1,assert:1})e[n]||(e[n]=function(){});var r={};e.time||(e.time=function(t){r[t]=Date.now()}),e.timeEnd||(e.timeEnd=function(){var t=Date.now()-r[label];e.log("%s: %dms",label,t)})},6:function(t){(function(){t.exports={plugins:[],watch:!1}}).call(this)},7:function(t,e,n){(function(){var e,r,o,i={}.hasOwnProperty;r=n(1),o=function(){var t,e,n,o;if(null!==this.elements){n=this.elements,o=[];for(e in n)if(i.call(n,e)){if(t=n[e],!r.isUndefined(this[t]))throw new TypeError("Element member "+t+" already defined!");if(!r.isString(e))throw new TypeError("Element selector have to be referenced by strings!");o.push(this[t]=this.view.querySelectorAll(e))}return o}},e=function(){function t(t,e,n){this.view=t,this.data=e,this.id=n,o.call(this,this.elements),null===this.interests&&(this.interests=[])}return t.NOTIFICATION="GREMLIN_NOTIFICATION",t.CONTENT_CHANGED="gremlinjs_gremlin_content_changed",t.prototype.name="anonymous",t.prototype.__settings=null,t.prototype.__extensions=null,t.prototype.initialize=function(){},t.prototype.elements=null,t.prototype.events=null,t.prototype.interests=null,t.prototype.inform=function(){},t.prototype.chatter=function(t,e){return null==e&&(e={}),this.dispatch(this.NOTIFICATION,{interest:t,notificationData:e})},t.prototype.triggerChange=function(){return this.chatter(this.CONTENT_CHANGED)},t}(),t.exports=e}).call(this)},8:function(t,e,n){(function(){var e,r,o,i={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=n(1),r=n(6),e=n(7),t.exports={extend:function(t,n,i){var u,l;if(null==i&&(i={}),!o.isString(t)||!o.isObject(n))throw new TypeError("GremlinLair#create called with wrong parameters!");return l=o.extend({},r,i),u=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.name=t,n.prototype.__settings=l,n}(e),o.mixin(u,n),u}}}).call(this)},9:function(t,e,n){(function(){var e,r,o;r=n(4),o=function(t,e){var o,i;switch(i=null,t){case r.JQUERY:o=n(3),i=new o("jquery",e);break;case r.ZEPTO:o=n(3),i=new o("zepto",e);break;default:throw new TypeError("GremlinJS extension <"+t+"> unavailable")}return i},e=function(){function t(){}return t.prototype.create=function(t,e){var n,r,i,s,u,l,a;for(r=[],n=t.__settings.extensions,i=n.length,a=[],u=0,l=n.length;l>u;u++)s=n[u],a.push(function(n){var s;return s=o(n,t),s.onLoad=function(){return r.push(s),r.length===i?e.call(null,t):void 0},s.load()}(s));return a},t}(),t.exports=new e}).call(this)},10:function(t,e,n){(function(){var e,r;r=n(1),e=function(){function t(t){this._dataString=t}return t.prototype.parse=function(){var t,e;if(t=this._dataString,e=this._dataString,r.isString(this._dataString))try{e="true"===t?!0:"false"===t?!1:"null"===t?null:+t+""===t?+t:JSON.parse(t)}catch(n){}return e},t}(),t.exports=e}).call(this)},11:function(t,e,n){(function(){var e,r,o,i,s,u={}.hasOwnProperty;s=n(1),e=n(10),o=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})},i=function(t){var n,r,i,l,a;l={},s.isUndefined(t.dataset)?(n={},[].filter.call(t.attributes,function(e){var r;return r=/^data-/.test(e.name),r&&(n[o(e.name.substring(5))]=t.getAttribute(e.name)),r})):n=t.dataset;for(i in n)u.call(n,i)&&(a=n[i],r=new e(a),l[i]=r.parse());return l},r=function(){function t(t){this._el=t}return t.prototype.toObject=function(){return i(this._el)},t}(),t.exports=r}).call(this)},12:function(t){(function(){var e,n,r={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=function(){function t(){this._elements=[]}return t.prototype._elements=null,t.prototype.addGremlin=function(t){return this._elements.push(t)},t.prototype.addList=function(t){var e,n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(this._elements.push(e));return o},t.prototype.size=function(){return this._elements.length},t.prototype.toArray=function(){return this._elements},t}(),e=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return o(e,t),e}(n),t.exports=n}).call(this)},13:function(t,e,n){(function(){var e,r,o;o=n(1),e=n(14),o.isFunction(String.prototype.trim)||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),r=function(){function t(t,e,n){this._el=t,this._cls=e,this._ns=n}return t.DATA_GREMLIN_NAME_ATTRIBUTE="data-gremlin-name",t.GREMLIN_NAME_SEPARATOR=",",t.GREMLIN_LOADING_CLASS="gremlin-loading",t.GREMLIN_READY_CLASS="gremlin-ready",t.prototype._el=null,t.prototype._cls=null,t.prototype._ns=null,t.prototype._loadGremlin=function(e){if(o.removeClass(this._el,this._cls),o.addClass(this._el,t.GREMLIN_LOADING_CLASS),e=this._ns+e.trim(),o.isString(e)&&!o.isEmptyString(e))return this._createGremlin(e);throw Error("Can't create a gremlin without a classname defined for it.")},t.prototype._createGremlin=function(n){var r=this;return e.create(n,this._el,function(){return o.removeClass(r._el,t.GREMLIN_LOADING_CLASS),o.addClass(r._el,t.GREMLIN_READY_CLASS),!0})},t.prototype.load=function(){var e,n,r,o,i,s;for(n=this._el.getAttribute(t.DATA_GREMLIN_NAME_ATTRIBUTE),i=n.split(t.GREMLIN_NAME_SEPARATOR),s=[],r=0,o=i.length;o>r;r++)e=i[r],s.push(this._loadGremlin(e));return s},t}(),t.exports=r}).call(this)},14:function(t,e,n){(function(){var e,r,o,i,s,u;i="data-gid",s=n(1),r=n(11),o=n(9),e=n(2),u=function(){var t;return t=0,function(){return t++}}(),t.exports={onError:function(t){throw new TypeError("GremlinFactory#createGremlin> The gremlin module "+t+" didn't return a (constructor) function and will not work!")},create:function(e,n,i){var l,a,c;return c=u(),l=new r(n),a=[],window.require([e],function(r){var u;return s.isFunction(r)?(u=new r(n,l.toObject(),c),o.create(u,function(){return u.initialize(),i.call(null,u)}),!0):t.exports.onError(e)})}}}).call(this)},15:function(t,e,n){(function(e){(function(){var r,o,i;i=n(1),r=n(12),o=function(){function t(e,n){null==n&&(n=!1),this._className=e,this._isNative=i.isFunction(document.getElementsByClassName),this._elements=this._isNative?document.getElementsByClassName(e):document.getElementsByTagName(t.LEGACY_TAG_SELECTOR)}return t.LEGACY_TAG_SELECTOR="*",t.prototype._className=null,t.prototype._elements=null,t.prototype._isNative=null,t.prototype._getElements=function(){var t,n,o,i,s;if(t=new r,this._isNative)t.addList(this._elements);else for(s=this._elements,o=0,i=s.length;i>o;o++)n=s[o],n.className===this._className&&t.addGremlin(n);return e.log("Found "+t.size()+" gremlins in the dom"),t},t.prototype.seek=function(){return this._getElements()},t}(),t.exports=o}).call(this)})(n(5))},16:function(t,e,n){(function(){var e,r,o,i;r=n(15),e=n(13),i=n(1),o=function(){function t(t,e){this._namespace=null!=t?t:"",this._gremlinCssClass=null!=e?e:"gremlin",this._hound=new r(this._gremlinCssClass)}return t.prototype._hound=null,t.prototype._namespace=null,t.prototype._gremlinCssClass=null,t.prototype._processElement=function(t){var n;return n=new e(t,this._gremlinCssClass,this._namespace),n.load()},t.prototype.load=function(){var t,e,n,r,o;for(r=this._hound.seek().toArray(),o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push(this._processElement(t));return o},t.prototype.resetLazyGremlins=function(){},t}(),t.exports=o}).call(this)},17:function(t,e,n){(function(){var e,r,o;e=n(16),r={},o={},t.exports.getInstance=function(t,n){var i;if(i=""+t+"_"+n,void 0===r[i]){if(o[n]===!0)throw Error("GremlinJS: Trying to use the same css class ("+n+") with multiple namespaces.");o[n]=!0,r[i]=new e(t,n)}return r[i]}}).call(this)}});;return gremlinjs;});