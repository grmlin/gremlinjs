<!DOCTYPE html>  
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>api</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
/* 
 This document has been created with Marked.app <http://markedapp.com>, Copyright 2011 Brett Terpstra
 Please leave this notice in place, along with any additional credits below.
 ---------------------------------------------------------------
 SwissStyle by Brett Terpstra
 */

body
{
    -webkit-font-smoothing:antialiased;
    font:normal .8764em/1.5em Arial,Verdana,sans-serif;
    margin:0
}

html>body
{
    font-size:13px
}

li
{
    font-size:110%
}

li li
{
    font-size:100%
}

li p
{
    font-size:100%;
    margin:.5em 0
}

h1
{
    color:#000;
    font-size:2.2857em;
    line-height:.6563em;
    margin:.6563em 0
}

h2
{
    color:#111;
    font-size:1.7143em;
    line-height:.875em;
    margin:.875em 0
}

h3
{
    color:#111;
    font-size:1.5em;
    line-height:1em;
    margin:1em 0
}

h4
{
    color:#111;
    font-size:1.2857em;
    line-height:1.1667em;
    margin:1.1667em 0
}

h6
{
    font-size:1em;
    line-height:1.5em;
    margin:1.5em 0
}

body,p,td,div
{
    color:#111;
    font-family:Helvetica,Arial,sans-serif;
    word-wrap:break-word
}

h1,h2,h3,h4,h5,h6
{
    line-height:1.5em
}

a
{
    -webkit-transition:color .2s ease-in-out;
    color:#0d6ea1;
    text-decoration:none
}

a:hover
{
    color:#3593d9
}

h2 em
{
    color:#111;
    padding-left:10px;
    text-shadow:0 1px 0 #FFF
}

.footnote
{
    color:#0d6ea1;
    font-size:.8em;
    vertical-align:super
}

#wrapper img
{
    max-width:100%
}

dd
{
    margin-bottom:1em
}

li > p:first-child
{
    margin:0
}

ul ul,ul ol
{
    margin-bottom:.4em
}

caption,col,colgroup,table,tbody,td,tfoot,th,thead,tr
{
    border-spacing:0
}

table
{
    border:1px solid rgba(0,0,0,0.25);
    border-collapse:collapse;
    display:table;
    empty-cells:hide;
    margin:-1px 0 23px;
    padding:0;
    table-layout:fixed
}

caption
{
    display:table-caption;
    font-weight:700
}

col
{
    display:table-column
}

colgroup
{
    display:table-column-group
}

tbody
{
    display:table-row-group
}

tfoot
{
    display:table-footer-group
}

thead
{
    display:table-header-group
}

td,th
{
    display:table-cell
}

tr
{
    display:table-row
}

table th,table td
{
    font-size:1.1em;
    line-height:23px;
    padding:0 1em
}

table thead
{
    background:rgba(0,0,0,0.15);
    border:1px solid rgba(0,0,0,0.15);
    border-bottom:1px solid rgba(0,0,0,0.2)
}

table tbody
{
    background:rgba(0,0,0,0.05)
}

table tfoot
{
    background:rgba(0,0,0,0.15);
    border:1px solid rgba(0,0,0,0.15);
    border-top:1px solid rgba(0,0,0,0.2)
}

figure
{
    display:inline-block;
    margin-bottom:1.2em;
    position:relative
}

figcaption
{
    -webkit-transition:all .2s ease-in-out;
    background:rgba(0,0,0,0);
    bottom:0;
    color:rgba(255,255,255,0);
    left:0;
    position:absolute;
    text-align:center;
    width:100%
}

figure:hover
{
    cursor:pointer
}

figcaption:hover
{
    background:rgba(0,0,0,.56);
    color:rgba(255,255,255,1)
}

.poetry pre
{
    display:block;
    font-family:Georgia, Garamond, serif!important;
    font-size:110%!important;
    font-style:italic;
    line-height:1.6em;
    margin-left:1em
}

.poetry pre code
{
    font-family:Georgia, Garamond, serif!important
}

sup,sub,a.footnote
{
    font-size:1.4ex;
    height:0;
    line-height:1;
    position:relative;
    vertical-align:super
}

sub {
    vertical-align: sub;
    top: -1px;
}

p,h5
{
    font-size:1.1429em;
    line-height:1.3125em;
    margin:1.3125em 0
}

dt,th
{
    font-weight:700
}

table tr:nth-child(odd),table th:nth-child(odd),table td:nth-child(odd)
{
    background:rgba(255,255,255,0.06)
}

table tr:nth-child(even),table td:nth-child(even)
{
    background:rgba(0,0,0,0.06)
}

@media print {
    body
    {
        overflow:auto
    }
    
    #wrapper
    {
        background:#fff;
        color:#303030;
        font-size:85%;
        padding:10px;
        position:relative;
        text-indent:0
    }
}

@media screen {
    .inverted {
        background:#333
    }
    
    .inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted pre,.inverted code,.inverted th
    {
        color:#eee!important
    }
    
    .inverted a
    {
        color:#fff;
        text-decoration:underline
    }
    
    #wrapper
    {
        padding:20px
    }
    
    .inverted #wrapper
    {
        background:#333;
    }
}
</style>

</head>
<body class="inverted">
  <div id="wrapper">
      <style type="text/css">
.module-header {
    font-family: 'Bitstream Vera Sans Mono','Courier',monospace;
    font-size: 1.2em;
    color: #969648;
    background: #fff;
}
.toc-code a {
   font-family: 'Bitstream Vera Sans Mono','Courier',monospace;
   color: rgb(255,185,250);
   text-decoration: none;
}
.module-member {
    font-family: 'Bitstream Vera Sans Mono','Courier',monospace;
    font-size: 1.2em;
    color: rgb(255,185,250);
    display: inline-block;
    padding-top: 30px;
}

.property-name {
    font-family: 'Bitstream Vera Sans Mono','Courier',monospace;
    font-size: 1.1em;
    font-weight: bold;

}

.read-only {
    color:#E97F02;
    font-weight: bold;
}
</style>

<p><a href="#loader">Loader</a></p>

<ul>
<li><span class="toc-code"><a href="#getloader">gremlinjs.getLoader()</a></span></li>
</ul>

<hr />

<p><a href="#gremlins">Gremlins</a></p>

<ul>
<li><a href="#html">HTML</a></li>
<li><a href="#gremlincreation">Gremlin creation</a>

<ul>
<li><span class="toc-code"><a href="#create">gremlinjs.create()</a></span></li>
</ul></li>
<li><a href="#initializationpseudoconstructor">Initialization / pseudo constructor</a>

<ul>
<li><span class="toc-code"><a href="#initialize">this.initialize()</a></span></li>
</ul></li>
<li><a href="#jquerytoolkit">jQuery toolkit</a>

<ul>
<li><span class="toc-code"><a href="#view">this.view</a></span></li>
<li><span class="toc-code"><a href="#events">this.events</a></span></li>
<li><span class="toc-code"><a href="#elements">this.elements</a></span></li>
</ul></li>
<li><a href="#settinggremlinoptions">Setting gremlin options</a>

<ul>
<li><span class="toc-code"><a href="#data">this.data</a></span></li>
</ul></li>
<li><a href="#notifications">Notifications</a>

<ul>
<li><span class="toc-code"><a href="#interests">this.interests</a></span></li>
<li><span class="toc-code"><a href="#chatter">this.chatter()</a></span></li>
<li><span class="toc-code"><a href="#inform">this.inform()</a></span></li>
</ul></li>
<li><a href="#misc">MISC</a>

<ul>
<li><span class="toc-code"><a href="#id">this.id</a></span></li>
<li><span class="toc-code"><a href="#triggerChange">this.triggerChange()</a></span></li>
</ul></li>
</ul>

<hr />

<h1 id="loader">Loader</h1>

<p>The gremlins won&#8217;t be processed by simply including the script. You have to use the loader for that.</p>

<p><span id="getloader" class="module-member">gremlinjs.<strong>getLoader</strong>(String <strong>namespace</strong> = &quot;&#8220;, String <strong>cssClass</strong> = &#8221;gremlin&quot;) : Loader</span></p>

<p>Creates, or returns an existing, gremlin loader instance. Loader instances should <strong>always</strong> be created this way. It&#8217;s
the only reliable way to create a single loader instance for a namespace/css class combination</p>

<table>
<tr>
<td class="property-name">namespace</td>
<td>The namespace tells Gremlinjs/requirejs where to look for the gremlin files. The parameter is optional and empty
    by default.</td>
</tr>
<tr>
<td class="property-name">cssClass</td>
<td>GremlinJS uses a css class to find your gremlins inside the dom. The parameter is optional and *gremlin* by default.</td>
</tr>
</table>

<h3 id="example">Example</h3>

<pre><code>require([&quot;gremlinjs&quot;], function (gremlinjs) {
    var loader = gremlinjs.getLoader(&quot;public/gremlins/&quot;, &quot;gremlin&quot;);
    loader.load();
});
</code></pre>

<p>You may ask yourself why an extra css class is needed and GremlinJS doesn&#8217;t use the gremlin-name attribute to find them.
The answer is easy: speed. Modern browsers give you a native <code>getElementsByClassname()</code> method. Finding dom elements by attributes
is much slower.</p>

<p><strong>Take care not to use css classes for loader instances more than once. This will not work and throw an exception</strong></p>

<h1 id="gremlins">Gremlins</h1>

<p>GremlinJS is all about Gremlins. Whenever you have the feeling there is something that uses javascript create one</p>

<ul>
<li>Need a custom select box? Create a <code>SelectBox</code> gremlin</li>
<li>Need a fancy tooltip? Create a <code>Tooltip</code> gremlin</li>
<li>Need a fancy something? Create a <code>Something</code> gremlin</li>
</ul>

<p>I think it&#8217;s clear when to create gremlins: <strong>always</strong></p>

<h2 id="html">HTML</h2>

<p>Every HTML element is a possible gremlin.</p>

<p>Add a unique css class and a name via the <code>data-gremlin-name</code> attribute to it and you are done.</p>

<h4 id="example">Example</h4>

<pre><code>&lt;div class=&quot;gremlin&quot; data-gremlin-name=&quot;HelloWorld&quot;&gt;
    &lt;span&gt;Loading Gremlin...&lt;/span&gt;
&lt;/div&gt;
</code></pre>

<h2 id="gremlincreation">Gremlin creation</h2>

<p><span id="create" class="module-member">gremlinjs.<strong>create</strong>(String <strong>name</strong>, Object <strong>mixin</strong>) : AbstractGremlin</span></p>

<p>Creates a gremlin class. It does <strong>not</strong> create an instance!
<code>gremlinjs.create</code> is a shortcut to <a href="https://github.com/grmlin/gremlinjs/blob/master/src/gremlinjs/gremlins/GremlinLair.coffee#L12">GremlinLair#create</a>.</p>

<p>It creates and returns a new class inherited from <a href="https://github.com/grmlin/gremlinjs/blob/master/src/gremlinjs/gremlins/AbstractGremlin.coffee">AbstractGremlin</a> and
mixes <strong>mixin</strong> into the new class&#8217; prototype.</p>

<table>
<tr>
<td class="property-name">name</td>
<td>Pass a name into the create method. The name will be used for debugging/logging.
</td>
</tr>
<tr>
<td class="property-name">mixin</td>
<td>The mixin describes your gremlin and may come with any property you need.

    However, there are some predefined properties used by the AbstractGremlin the new gremlin inherits from, you should be aware of.
    </td>
</tr>
</table>

<h4 id="example">Example</h4>

<pre><code>define(['gremlinjs'], function (gremlinjs) {
    var HelloWorld = gremlinjs.create(&quot;HelloWorld&quot;, {
        initialize:function () {
            this.view.html(&quot;&lt;h1&gt;Hello World!&lt;/h1&gt;&quot;);
        }
    });
    return HelloWorld;
});
</code></pre>

<h2 id="initializationpseudoconstructor">Initialization / pseudo constructor</h2>

<p><span id="initialize" class="module-member">method <strong>initialize()</strong></span></p>

<p>initialize() will always be called automatically when a gremlin is instantiated. Use it as your gremlins constructor.</p>

<h4 id="example">Example</h4>

<pre><code> var HelloWorld = gremlinjs.create(&quot;HelloWorld&quot;, {
    initialize:function () {
        //do constructor work here
    }
});
</code></pre>

<h2 id="jquerytoolkit">jQuery toolkit</h2>

<p><span id="view" class="module-member">jQuery <strong>view</strong></span> <sup class="read-only">read-only</sup></p>

<p>jQuery object of the gremlin&#8217;s dom element</p>

<h4 id="example">Example</h4>

<pre><code>var HelloWorld = gremlinjs.create(&quot;HelloWorld&quot;, {
    initialize:function () {
        this.view.html(&quot;Hello World!&quot;);
    }
});
</code></pre>

<p><span id="events" class="module-member">Object <strong>events</strong></span></p>

<p>A simple way to delegate jQuery event handler to the gremlins instance or it&#8217;s children within it&#8217;s context.</p>

<p>The events object has to be of this format: <code>{'String &quot;instanceMethod&quot;':'String &quot;eventType selector'}</code>, where the method
has to reference an instance method of this class.</p>

<h4 id="example">Example</h4>

<pre><code>var HelloWorld = gremlinjs.create(&quot;HelloWorld&quot;, {
    events: {
        &quot;handleClick&quot;: &quot;click div.content h1&quot;
    }
    handleClick:function () {
        alert(&quot;ouch&quot;);
    }
});
</code></pre>

<p>Omitting the target selector, the gremlin&#8217;s main dom element (<code>this.view</code>) will be used as a target</p>

<pre><code>var HelloWorld = gremlinjs.create(&quot;HelloWorld&quot;, {
    events: {
        &quot;handleClick&quot;: &quot;click&quot;
    }
    handleClick:function () {
        alert(&quot;ouch&quot;);
    }
});
</code></pre>

<p><span id="elements" class="module-member">Object <strong>elements</strong></span></p>

<p>Similar to the events object you can define jQuery elements in this object. It must have the format <code>{'String instanceMember':'String selector'}</code>.</p>

<h4 id="example">Example</h4>

<pre><code>var HelloWorld = gremlinjs.create(&quot;HelloWorld&quot;, {
    elements: {
        &quot;content&quot;:&quot;div.content&quot;
    }
    initialize:function () {
        content.html(&quot;Hello World!&quot;);
    }
});
</code></pre>

<h2 id="settinggremlinoptions">Setting Gremlin Options</h2>

<p><span id="data" class="module-member">Object <strong>data</strong></span> <sup class="read-only">read-only</sup></p>

<p>Every gremlin automatically provides data-attributes to it&#8217;s instance with the <a href="#gremlin.data"><code>data</code></a> property.
All custom data-attributes you add to your gremlins tag can be found in there.</p>

<h5 id="example">Example</h5>

<pre><code>&lt;div class=&quot;gremlin&quot; data-gremlin-name=&quot;HelloWorld&quot; data-foo=&quot;bar&quot;&gt;
    &lt;span&gt;Loading Gremlin...&lt;/span&gt;
&lt;/div&gt;


var HelloWorld = gremlinjs.create(&quot;HelloWorld&quot;, {
    initialize:function () {
        console.log(this.data.foo);//bar
    }
});
</code></pre>

<p>see <a href="http://api.jquery.com/data/#data-html5">jQuery API</a> for more details</p>

<h2 id="notifications">Notifications</h2>

<p>Inspired by the notifications used in PureMVC, gremlin instances can trigger and catch notifications/events. This is build
in and all you have to do is:</p>

<ul>
<li>define interests, events the gremlin will be informed of</li>
<li>implement the inform-method called when notifications are incoming</li>
<li>trigger the chatter-method if your gremlin has something to say</li>
</ul>

<p><span id="interests" class="module-member">Array <strong>interests</strong></span></p>

<p>List of all interests. If any gremlin triggers on of the events in the list, <code>inform</code> will be called.</p>

<h4 id="example">Example</h4>

<pre><code>var HelloWorld = gremlinjs.create(&quot;HelloWorld&quot;, {
    interests: [&quot;FOO&quot;, &quot;BAR&quot;]
 });
</code></pre>

<p><span id="chatter" class="module-member">method <strong>chatter</strong>(String <strong>interest</strong>, Object <strong>notificationData</strong> = {})</span> <sup class="read-only">read-only</sup></p>

<p>Publish an event/interest/notification. The method expects the interest and an optional notification data object.</p>

<table>
<tr>
<td class="property-name">interest</td>
<td>
    The interest type. All gremlins with this interest type in their interests list will be informed.
</td>
</tr>
<tr>
<td class="property-name">notificationData</td>
<td>
    Optional event data
</td>
</tr>
</table>

<h4 id="example">Example</h4>

<pre><code>initialize:function () {
    this.chatter(&quot;OUCH&quot;,{foo:&quot;bar&quot;});
}
</code></pre>

<p><span id="inform" class="module-member">method <strong>inform</strong>(<strong>interest</strong>, <strong>notificationData</strong>)</span></p>

<p><code>inform</code> is called, when a gremlin in the site published a notification, the gremlin is interested in (see <code>interests</code>)</p>

<p>Both the interest and the notification data are passed into the inform method.</p>

<table>
<tr>
<td class="property-name">interest</td>
<td>
    The interest type..
</td>
</tr>
<tr>
<td class="property-name">notificationData</td>
<td>
    Event data
</td>
</tr>
</table>

<h4 id="example">Example</h4>

<pre><code>var HelloWorld = gremlinjs.create(&quot;HelloWorld&quot;, {
    interests: [&quot;FOO&quot;, &quot;BAR&quot;]
    inform:function (interest, data) {
        switch (interest) {
            case &quot;FOO&quot;:
                console.log(&quot;FOO&quot;);
                break;
            calse &quot;BAR&quot;:
                console.log(&quot;BAR&quot;);
                break;
            default:
                break;
        }
    }
});
</code></pre>

<h2 id="misc">MISC</h2>

<p><span id="id" class="module-member">Number <strong>id</strong></span> <sup class="read-only">read-only</sup></p>

<p>A unique ID bound to every gremlin. This ID stays unique through multiple Loader instances.
IDs may be useful, if you have to add an dynamically generated ID to the dom element.</p>

<h4 id="example">Example</h4>

<pre><code>var HelloWorld = gremlinjs.create(&quot;HelloWorld&quot;, {
    initialize:function () {
       this.view.attr(&quot;id&quot;,this.id);
    }
});
</code></pre>

<p><span id="triggerChange" class="module-member">method <strong>triggerChange()</strong></span></p>

<p>Call this method if you changed the HTML of the gremlin and new gremlins may appear in it.</p>

<p>The Loader will scan inside the gremlin for new gremlins. <strong>Don&#8217;t call the loader directly!</strong></p>

<h4 id="example">Example</h4>

<pre><code>var HelloWorld = gremlinjs.create(&quot;HelloWorld&quot;, {
    events: {
        &quot;handleClick&quot;: &quot;click&quot;
    }
    handleClick:function () {
        this.view.html(content);
        this.triggerChange();
    }
});
</code></pre>

    </div>
</body>
</html>